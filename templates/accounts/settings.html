{% extends "portfolio_base.html" %}
{% block title %}{{ profile.fullname }} | Settings{% endblock %}
{% block head %}
<style>
 .form-errors {
    border: 1px solid #ff4d42;
    border-radius: 5px;
    background: #ffe2d6;
    padding: 3px;
    display: inline-block;
    color: #424242;
  }
</style>
{% endblock %}
{% block content %}
<!-- Modals -->
<div class="modal hide" role="dialog" tabindex="-1" id="delete-account" arialabelledby="delete-account-heading">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
    <h3 id="delete-account-heading" style="color: #424242">Are you sure?</h3>
  </div>
  <div class="modal-body">
    <p style="color: #424242">
      We're very sorry to see you leave.  If you have any concerns you'd like to share, please
      <a href="http://{{ DOMAIN }}/contact/" target="_blank">contact</a> us.
    </p>
    <div style="padding-top: 15px">
      <a href="/delete/" class="btn btn-danger btn-large">Delete</a>
      <button class="btn btn-default btn-large" data-dismiss="modal" aria-hidden="true">Cancel</button>
    </div>
  </div>
</div>
<div class="modal hide" role="dialog" tabindex="-1" id="upgrade-account" arialabelledby="upgrade-account-heading">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">x</button>
    <h3 id="upgrade-account-heading" style="color: #424242">Upgrade your account</h3>
  </div>
  <div class="modal-body">
    <p style="color: #424242"><em>Your current upload limit is <strong>{{ customer.account_limit }}</strong> uploads</em></p>
    <hr>
    <p style="color: #424242">20 uploads</p>
    <a href="/accounts/basic/" class="btn btn-primary btn-large">Free</a>
    <hr>
    <p style="color: #424242">150 uploads</p>
    <a href="/accounts/premium/" class="btn btn-primary btn-large">$5.99/month</a>
    <hr>
    <p style="color: #424242">1000 uploads</p>
    <a href="/accounts/professional/" class="btn btn-primary btn-large">$7.99/month</a>
  </div>
  <div class="modal-footer">
    <button class="btn btn-default btn-large" data-dismiss="modal">Close</button>
  </div>
</div>
<!-- End modals -->

<div class="row-fluid muted">
  <div class="span6">
    <h3>Upgrade your account</h3>
    <p style="margin-bottom: 20px">You can also downgrade your account</p>
    <p><a href="#upgrade-account"  role="button" data-toggle="modal" class="btn-green btn-green-link btn-large">Upgrade</a></p>
  </div>
  <div class="span6">
    <h3>Update your credit card</h3>
    <p style="margin-bottom: 20px">Add a credit card or change your active card.</p>
    <a href="/accounts/change/" class="btn-green btn-green-link btn-large">Update</a>
  </div>
</div>
<hr style="border-top: none; border-bottom: 1px solid #{{ profile.text_color }}">
<div class="row-fluid muted">
  <div class="span6">
    <h3>Change your password</h3>
    {% if password_change_form.errors %}
    <p class="form-errors"><strong>Error: </strong>
    {% if password_change_form.old_password.errors %}
      <br>Your old password was entered incorrectly.
    {% endif %}
    {% if password_change_form.new_password1.errors or password_change_form.new_password2.errors %}
      <br>The new passwords didn't match.
    {% endif %}
    </p>
    {% endif %}
    <form method="post" action=".">
      {% csrf_token %}
      <input type="password" name="old_password" id="id_old_password" placeholder="Password" style="display: block"/>
      <input type="password" name="new_password1" id="id_new_password1" placeholder="New password" style="display: block"/>
      <input type="password" name="new_password2" id="id_new_password2" placeholder="New password (again)" style="display: block"/>
      <input type="submit" value="Change" class="btn-green btn-large">
    </form>
  </div>
  <div class="span6">
    <h3>Delete your account</h3>
    <a href="#delete-account" role="button" data-toggle="modal" class="btn btn-default">Delete</a>
  </div>
</div>


<!--


<div class="row">
  <div class="span10">

    <h3 class="muted">Your account settings</h3>
    <div id="accordion">
      <h3>Upgrade <em>(or change)</em> your account</h3>
      <div>
	<div class="row">
	  <p class="muted"><em>Your current upload limit is <b>{{ customer.account_limit }}</b> images</em></p>
	</div>



	<div class="row">
	  <div class="span3">
	    <a href="/accounts/basic/" class="btn btn-large btn-primary confirm-change-account" style="color: white">Basic</a>
	    <h4 class="muted">20 uploads</h4>
	    <h4 class="muted">Free!</h4>
	  </div>
	  <div class="span3">
	    <a href="/accounts/premium/" class="btn btn-large btn-primary confirm-change-account" style="color: white">Premium</a>
	    <h4 class="muted">150 uploads</h4>
	    <h4 class="muted">$5.99/month</h4>
	  </div>
	  <div class="span2">
	    <a href="/accounts/professional/" class="btn btn-large btn-primary confirm-change-account" style="color: white">Professional</a>
	    <h4 class="muted">1000 uploads</h4>
	    <h4 class="muted">$7.99/month</h4>
	  </div>
	</div>
      </div>
      <h3>Update your credit card</h3>
      <div>
	<p class="muted"><em>Add a credit card or change your active card.</em></p>
	<a href="/accounts/change/" class="btn btn-large btn-primary" style="color: white">Update</a>
      </div>
      <h3>Change your password</h3>
      <div>
	<form method="post" action=".">
	  {% csrf_token %}
	  {{ password_change_form.as_p }}
	  <input type="submit" value="Change" class="btn btn-large btn-primary">
	</form>
      </div>
      <h3>Delete your account</h3>
      <div>
	<p>Are you <em>sure</em> you want to delete your account?  It's also possible to downgrade
	  your account.</p>
	<d class="muted"><em>If you have a paid account, your credit card will no longer be charged once you've deleted your account.</em></p>
	<a href="#delete-account" role="button" data-toggle="modal" class="btn btn-default btn-large">Delete</a>
      </div>
    </div>
  </div>
</div>
-->
{% endblock %}
